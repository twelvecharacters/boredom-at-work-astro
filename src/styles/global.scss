

/* Base Styles */
@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply text-text bg-background;
    font-family: var(--font-body);
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-bold text-primary;
    font-family: var(--font-heading);
    letter-spacing: -0.02em;
  }

  a {
    @apply text-accent hover:text-accent-hover transition-all;
  }
}

@layer utilities {
  .glass {
    @apply bg-white/70 backdrop-blur-md border border-white/20;
  }

  .mesh-gradient {
    background-color: #11153b;
    background-image:
      radial-gradient(at 0% 0%, hsla(244, 100%, 70%, 0.2) 0, transparent 50%),
      radial-gradient(at 50% 0%, hsla(263, 100%, 70%, 0.15) 0, transparent 50%),
      radial-gradient(at 100% 0%, hsla(280, 100%, 70%, 0.2) 0, transparent 50%);
    position: relative;
    &::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(139, 92, 246, 0.15) 0%, transparent 40%);
      pointer-events: none;
      z-index: 1;
    }
  }

  .floating {
    animation: floating 6s ease-in-out infinite;
  }

  .floating-delayed {
    animation: floating 8s ease-in-out infinite;
    animation-delay: -2s;
  }

  .floating-slow {
    animation: floating 12s ease-in-out infinite;
    animation-delay: -4s;
  }

  @keyframes floating {
    0% { transform: translateY(0px) rotate(0deg); }
    33% { transform: translateY(-15px) rotate(2deg); }
    66% { transform: translateY(5px) rotate(-1deg); }
    100% { transform: translateY(0px) rotate(0deg); }
  }

  .shine-effect {
    position: relative;
    overflow: hidden;
    &::before {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent 45%, rgba(255, 255, 255, 0.1) 50%, transparent 55%);
      transform: translateX(-100%);
      transition: transform 0.6s ease;
      pointer-events: none;
    }
    &:hover::before {
      transform: translateX(100%);
    }
  }

  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-white via-white/80 to-white/60;
  }
}

/* Prose Styles for Blog Content */
@layer components {
  .prose {
    @apply max-w-none;

    h1 { @apply text-3xl md:text-4xl mb-6 mt-8 scroll-mt-24; }
    h2 { @apply text-2xl md:text-3xl mb-4 mt-8 scroll-mt-24; }
    h3 { @apply text-xl md:text-2xl mb-3 mt-6 scroll-mt-24; }
    p { @apply mb-4 leading-relaxed; }
    ul, ol { @apply mb-4 pl-6; }
    li { @apply mb-2; }
    ul li { @apply list-disc; }
    ol li { @apply list-decimal; }

    pre {
      @apply bg-background-alt p-4 rounded-xl border border-primary/5 my-6 overflow-x-auto relative;
      background-color: #f8fafc !important;
      
      code {
        all: unset !important;
        display: block !important;
        color: #1e293b !important;
        font-family: 'JetBrains Mono', 'Fira Code', 'Menlo', 'Monaco', 'Consolas', monospace !important;
        font-size: 0.9rem !important;
        line-height: 1.7 !important;
        white-space: pre !important;
        word-wrap: normal !important;
        padding: 0 !important;
        margin: 0 !important;
      }
    }

    code {
      @apply bg-background-alt px-1.5 py-0.5 rounded text-accent font-mono text-sm;
      background-color: #f1f5f9 !important;
    }

    blockquote {
      @apply border-l-4 border-accent pl-4 italic my-4;
    }

    /* Table wrapper for scroll - added via JS */
    .table-scroll-wrapper {
      @apply overflow-x-auto mb-6 rounded-xl shadow-sm border border-gray-100;
      -webkit-overflow-scrolling: touch;
    }

    /* Responsive tables */
    table {
      @apply w-full text-sm;
      border-collapse: separate;
      border-spacing: 0;
      min-width: 500px;

      @media (min-width: 769px) {
        @apply text-base;
        min-width: auto;
      }

      th, td {
        @apply px-4 py-3 text-left;
        border-bottom: 1px solid #e5e7eb;
        white-space: nowrap;

        @media (min-width: 769px) {
          white-space: normal;
        }
      }

      th {
        @apply bg-primary text-white font-semibold text-xs uppercase tracking-wider;
      }

      tbody tr {
        @apply bg-white transition-colors;

        &:hover {
          @apply bg-background-alt;
        }

        &:last-child td {
          border-bottom: none;
        }
      }

      tbody tr:nth-child(even) {
        @apply bg-gray-50;

        &:hover {
          @apply bg-background-alt;
        }
      }

      td:first-child {
        @apply font-medium text-primary;
      }
    }

    img {
      @apply rounded-lg my-4;
    }
  }

  .btn-primary {
    @apply inline-block bg-accent text-white px-6 py-3 rounded-lg font-semibold transition-colors;
    &:hover { @apply bg-accent-hover; }
  }

  .btn-secondary {
    @apply inline-block border-2 border-accent text-accent px-6 py-3 rounded-lg font-semibold transition-colors;
    &:hover { @apply bg-accent text-white; }
  }

  .resource-card {
    @apply border-2 rounded-2xl p-8 my-8 flex flex-col md:flex-row items-start md:items-center justify-between gap-6 transition-all duration-300 relative overflow-hidden;
    background: linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%);
    border-color: #e5e7f0;
    box-shadow: 0 4px 20px rgba(17, 21, 59, 0.08);

    &::before {
      content: "";
      @apply absolute top-0 left-0 w-2 h-full opacity-0 transition-all duration-300;
      background: linear-gradient(180deg, #7c3aed 0%, #6d28d9 100%);
    }

    &:hover {
      border-color: #7c3aed;
      transform: translateY(-6px);
      box-shadow: 0 12px 40px rgba(124, 58, 237, 0.15);
      
      &::before {
        @apply opacity-100;
      }

      .btn-primary {
        transform: scale(1.05);
        box-shadow: 0 8px 20px rgba(124, 58, 237, 0.3);
      }
    }

    .resource-info {
      @apply flex items-start gap-5 flex-1;
    }

    .resource-icon {
      @apply w-16 h-16 rounded-2xl flex items-center justify-center text-4xl flex-shrink-0;
      background: linear-gradient(135deg, #f8f9ff 0%, #eef0ff 100%);
      border: 2px solid #e5e7f0;
      box-shadow: 0 4px 12px rgba(124, 58, 237, 0.08);
    }

    .resource-title {
      @apply text-xl font-bold mb-2;
      margin: 0;
      color: #11153b;
      line-height: 1.3;
    }

    .resource-desc {
      @apply text-base;
      margin: 0;
      color: #4c4e82;
      line-height: 1.6;
    }

    .btn-primary {
      @apply whitespace-nowrap px-10 py-4 w-full md:w-auto text-center font-bold text-base rounded-xl transition-all duration-300;
      margin: 0;
      background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);
      box-shadow: 0 4px 12px rgba(124, 58, 237, 0.2);
      
      &:hover {
        background: linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%);
      }
    }
  }
}
